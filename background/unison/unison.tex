\section{Unison}
\label{sec:unison}

Unison is an open-source\footnote{\url{https://github.com/unison-code/unison}},
potentially optimal tool that performs integrated register allocation and instruction
scheduling using constraint programming. It can be used as an alternative or complement to
the algorithms currently in place by compilers such as GCC and LLVM. In particular there
already exists a driver for LLVM which accept input in the form of LLVM MIR \cite{unison-docs}.

LLVM MIR is a human readable, YAML serialized format of the LLVM machine specific
representation\cite{llvm-mir-lang-ref}. The machine specific representation is used by the
LLVM code generator to emit assembly for a specific architecture \cite{welcome-to-backend}.

Unison models the problems of register allocation and instruction scheduling as a single
constraint programming problem and solves them simultaneously using a branch and bound
algorithm\cite{unison-docs,reg-alloc-inst-sched-uni,unison-src}.

With Unison we have control over every decision made related to instruction scheduling and
register allocation and more importantly, we can base decisions on previously found solutions.
A solution in this case being an executable. While LLVM MIR is not close enough to the
emitted assembly to do any gadget searching we can still implement the strategies done by
\textcite{large-scale-automated}, but instead of randomizing the schedule we can deliberately
vary it from one solution to another.
