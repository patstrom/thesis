\begin{frame}
	\frametitle{Software Diversity}

	\begin{itemize}
		\item Natural Diversity
		\item N-version programming
		\item Automated Diversity
		\item Dynamic \& static randomization
	\end{itemize}

\end{frame}

\begin{frame}
	\frametitle{Compiler-generated Software Diversity}

	A lot of decision are taken by the compiler. These decision might not be correct.

\end{frame}

\begin{frame}[fragile]
	\frametitle{Compiler-generated Software Diversity}

	\lstinputlisting[language=C++,frame=single,tabsize=2,breaklines=true,showstringspaces=false]
	{../background/software-diversity/examples/vec_add.cpp}

\end{frame}

\begin{frame}
	\frametitle{Clang}

	\lstinputlisting[firstline=8,lastline=10,tabsize=2,language={[x86masm]Assembler},breaklines=true,frame=single,showstringspaces=false]
	{../background/software-diversity/examples/clang_vec_add.s}

\end{frame}


\begin{frame}
	\frametitle{GCC}

	\lstinputlisting[firstline=7, lastline=22,tabsize=2,language={[x86masm]Assembler},breaklines=true,frame=single,showstringspaces=false]
	{../background/software-diversity/examples/gcc_vec_add.s}

\end{frame}

\begin{frame}
	\frametitle{GCC - Cont.}

	\lstinputlisting[firstline=23, lastline=29,tabsize=2,language={[x86masm]Assembler},breaklines=true,frame=single,showstringspaces=false]
	{../background/software-diversity/examples/gcc_vec_add.s}

\end{frame}

\begin{frame}
	\frametitle{ROP}
	
	\begin{itemize}
		\item	Hijack control flow
		\item	Use already existing code to perform arbitrary execution
		\item	Quite prevalent
	\end{itemize}

\end{frame}

\begin{frame}[fragile]
	\frametitle{Gadgets}
	
	Short sequences of code

	\begin{lstlisting}[tabsize=2,frame=single,language={[x86masm]Assembler}]
	pop %edi
	ret
	\end{lstlisting}

	\begin{lstlisting}[tabsize=2,frame=single,language={[x86masm]Assembler}]
	movl 64(%eax), %eax
	ret
	\end{lstlisting}

\end{frame}

\begin{frame}
	\frametitle{Gadget - Clang}

	\lstinputlisting[tabsize=2, frame=single, breaklines=true,
	showstringspaces=false,language={[x86masm]Assembler}]
	{../background/software-diversity/examples/clang_vec_add.gadget}

\end{frame}

\begin{frame}
	\frametitle{Gadget - GCC}

	\lstinputlisting[tabsize=2, frame=single, breaklines=true,
	showstringspaces=false,language={[x86masm]Assembler}]
	{../background/software-diversity/examples/gcc_vec_add.gadget}

	Something interesting!

\end{frame}

\begin{frame}
	\frametitle{Gadget - GCC}

	\lstinputlisting[tabsize=2, frame=single, breaklines=true,
	showstringspaces=false,language={[x86masm]Assembler}]
	{../background/software-diversity/examples/gcc_vec_add.gadget}

	\lstinputlisting[tabsize=2, frame=single, breaklines=true,
	showstringspaces=false,language={[x86masm]Assembler}]
	{../background/software-diversity/examples/gcc_vec_add.original}

\end{frame}
